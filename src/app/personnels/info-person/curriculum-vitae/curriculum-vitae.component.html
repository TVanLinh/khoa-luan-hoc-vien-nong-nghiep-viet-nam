<div class="form-item" id="cv">
  <div class="form-item-title">Sơ yếu lí lịch</div>
  <form action="" [formGroup]="formCV" id="form-cv">
    <div class="action-form" *ngIf="editEnable">
      <button (click)="onSave()">Ghi nhận</button>
      <!--<button (click)="print()">Print</button>-->
      <!--<button>Khóa dữ liệu</button>-->
      <div *ngIf="message.condition" [ngClass]="'alert alert-'+ message.type">
        {{message.content}}
      </div>

    </div>
    <div class="row info-basic mgb-20">
      <div class="col-xs-12 col-sm-12 col-md-3 ">
        <div class="mgr-15 image-info mgb-10 mgt-10" style="background-image: url(/assets/images/avatar/avatar.jpg)"
             [style.background]="'url(' + infoBasic.avatarUrl + ')'">
          <input type="file"  accept="image/x-png,image/gif,image/jpeg" title="Chọn ảnh"
                 style="width: auto" (change)="avatarChange($event)">
        </div>

      </div>

      <div class="col-xs-12 col-sm-12 col-md-8">
        <div>
          <div>

            <div class="item-control " style="clear: none">
              <label class="item-title">1, Mã nhân sự</label>
              <input type="text" [value]="user['username']" disabled/>
              <!--formControlName="staffCode"-->
            </div>


            <div class="item-control" style="clear: none">
              <label class="item-title">2, Họ và tên <span class="star">*</span></label>
              <input name="fullName" type="text" #fullName [value]="user['fullname']" disabled required/>

            </div>

            <div class="item-control">
              <label class="item-title">3, Tên khác</label>
              <input formControlName="nameOther" type="text" #nameOther/>
            </div>
          </div>

          <div class="item-control">
            <label class="item-title">4, Ngày sinh <span class="star">*</span></label>
            <input type="text" style="width: 30%;margin-right: 20px"
                   [value]="user['birthDay'] | date:'dd/MM/yyyy'" disabled required/>

            <label class="item-title">5, Giới tính <span class="star">*</span></label>
            <input type="text" style="width: 30%;margin-right: 20px"
                   [value]="user['sex']  == 0 ? 'Nam': 'Nữ'" disabled required/>

          </div>

          <div class="item-control">
            <label class="item-title">6,Email <span class="star">*</span></label>
            <input type="email" style="width: 30%;margin-right: 20px" [value]="user['email']" disabled required/>
            <label class="item-title">7,Điện thoại <span class="star">*</span></label>
            <input type="text" style="width: 200px" formControlName="phone" pattern="[0-9]*" required #phone>

          </div>

          <div class="item-control">
            <div class="error" *ngIf="phone.value.trim()  =='' && formTouch">
              Chưa nhập số điện thoại
            </div>
          </div>

        </div>

        <div class="clearfix"></div>

      </div>
    </div>

    <div class="row place" formGroupName="placeBirth">
      <div class="col-xs-12 ">
        <span class="item-title">8, Nơi sinh <span class="star">*</span></span>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label>Tình/TP </label>
          <select formControlName="city" class="form-control"
                  required type="select" #cityBirthDay (change)="cityChange(cityBirthDay.value,'NS')">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option *ngFor="let item of listCity | orderBy: 'city.name'" [value]="item['city']['code']">
              {{item['city']['name']}}
            </option>
          </select>
          <div class="error" *ngIf="cityBirthDay.value.trim()  =='' && formTouch">
            Chưa chọn tình thành phố
          </div>
        </div>


      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label>Quận/Huyện </label>
          <select  formControlName="district" class="form-control" #districtBirthDay required type="select"
                  (change)="districtChange(districtBirthDay.value,'NS')">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option  *ngFor="let item of birthDays.city.districts | orderBy: 'name'" [value]="item['code']">{{item['name']}}
            </option>
          </select>
          <div class="error" *ngIf="districtBirthDay.value.trim()  =='' && formTouch">
            Chưa chọn quận huyện
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label><span>Phường/xã   </span> </label>

          <select formControlName="guild" #guidBithDay class="form-control"
                  required type="select">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option *ngFor="let item of guidsBithday | orderBy: 'name'" [value]="item['code']">{{item['name']}}</option>
          </select>
          <div class="error" *ngIf="guidBithDay.value.trim()  =='' && formTouch">
            Chưa chọn phường xã
          </div>
        </div>
      </div>

    </div>

    <div class="row place" formGroupName="homeTown">
      <div class="col-xs-12 ">
        <span class="item-title">9, Quê quán <span class="star">*</span></span>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label>Tình/TP </label>
          <select formControlName="city" class="form-control"
                  required type="select" #homeTownCity (change)="cityChange(homeTownCity.value,'QUEQUAN')">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option *ngFor="let item of listCity | orderBy: 'city.name'" [value]="item['city']['code']">
              {{item['city']['name']}}
            </option>
          </select>
          <div class="error" *ngIf="homeTownCity.value.trim()  =='' && formTouch">
            Chưa chọn tỉnh thành phố
          </div>
        </div>

      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label>Quận/Huyện </label>
          <select formControlName="district" class="form-control" #homeTownDistrict required type="select"
                  (change)="districtChange(homeTownDistrict.value,'QUEQUAN')">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option *ngFor="let item of homeTown.city.districts | orderBy: 'name'" [value]="item['code']">{{item['name']}}
            </option>
          </select>
          <div class="error" *ngIf="homeTownDistrict.value.trim()  =='' && formTouch">
            Chưa chọn quận huyện
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label><span>Phường/xã   </span> </label>
          <select formControlName="guild" #homeTownGuid class="form-control"
                  required type="select">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option *ngFor="let item of guilsHomeTown |  orderBy: 'name'" [value]="item['code']">{{item['name']}}
            </option>
          </select>

          <div class="error" *ngIf="homeTownGuid.value.trim()  =='' && formTouch">
            Chưa chọn phường xã
          </div>
        </div>
      </div>


    </div>
    <!--ton giao dan toc -->
    <div class="row ">

      <div class="col-xs-12 col-sm-4">
        <div class="item-control">
          <label class="item-title">10, Dân tộc </label>
          <select class="form-control" formControlName="nation" #nation type="select" required>
            <option [value]="item.name" *ngFor="let item of listNation  | orderBy: 'name'">{{item.name}}</option>
          </select>
          <div class="error" *ngIf="nation.value.trim()  =='' && formTouch">
            Chưa chọn dân tộc
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-4">
        <div class="item-control">
          <label class="item-title">11, Tôn giáo</label>
          <select class="form-control" formControlName="hashNation" #hashNation>
            <option value="false">Không</option>
            <option value="true">Có</option>
          </select>
          <div class="error" *ngIf="hashNation.value.trim()  =='' && formTouch">
            Chưa chọn tôn giáo
          </div>
        </div>
      </div>

      <div class="clearfix"></div>
    </div>

    <!--So chung minh thu-->
    <div class="row place" formGroupName="identity">
      <div class="col-xs-12">
        <label class="item-title" style="width: auto">12, Số chứng minh thư <span class="star">*</span> </label>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label class="hidden-xs"></label>
          <input type="text" formControlName="identityNumber" minlength="6" pattern="[0-9]*" required #identityNumber/>
          <div class="error" *ngIf="identityNumber.value.trim()  =='' && formTouch">
            Chưa nhập số chứng minh thư
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label>Ngày cấp </label>
          <input formControlName="dateRange" type="date"
                 [value]="infoBasic.identity.dateRange | date:'yyyy-MM-dd'" required #dateRange/>
          <div class="error" *ngIf="dateRange.value.trim()  =='' && formTouch">
            Chưa nhập ngày cấp
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-4">
        <div class="item-control pdt-i-0">
          <label>Nơi cấp </label>
          <input formControlName="placeRange" type="text" required #placeRange/>

          <div class="error" *ngIf="placeRange.value.trim()  =='' && formTouch">
            Chưa nhập nơi cấp
          </div>
        </div>
      </div>

    </div>

    <div class="row ">
      <div class="col-xs-12">
        <div class="item-control">
          <label class="mgr-20 item-title" style="width:auto;">13, Nơi đăng kí hộ khẩu thường chú <span
            class="star">*</span></label>
          <input style="width: 71%" type="text" formControlName="placeRegisterHouseHold" #placeRegisterHouseHold
                 required/>
          <span style="display: block">(Số nhà đường thành phố /  Thôn xóm xã huyện tỉnh )</span>
          <div class="error" *ngIf="placeRegisterHouseHold.value.trim()  =='' && formTouch">
            Chưa nhập nơi đăng kí hộ khẩu thường chú
          </div>

        </div>
      </div>
    </div>

    <div class="row ">
      <div class="col-xs-12 col-sm-5">

        <div class="item-control">
          <label class="item-title" style="width: auto; margin-right: 10px;">14, Đối tượng chính sách <span
            class="star"></span> </label>
          <select class="policy-object form-control" style="width: 200px" formControlName="policyObject" #policyObject>
            <option value="0">----Chọn-----</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
          </select>
        </div>

      </div>

      <div class="col-xs-12 col-sm-5">
        <div class="item-control">
          <label class="item-title mgr-20" style="width: auto">15, Nhóm máu </label>
          <select formControlName="bloodGroup" class="form-control" required type="select" #bloodGroup>
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="AB">AB</option>
            <option value="0">O</option>
          </select>

          <div class="error" *ngIf="bloodGroup.value.trim()  =='' && formTouch">
            Chưa chọn nhóm máu
          </div>

        </div>
      </div>
    </div>

    <div class="row address" formGroupName="placeNow">
      <div class="col-xs-12">
        <span class="item-title">16, Nơi ở hiện nay <span class="star">*</span></span>
      </div>
      <div class="col-xs-12 col-sm-2">
        <div class="item-control">
          <label>Tình/TP </label>
          <select formControlName="city" class="form-control"
                  required type="select" #placeNowC (change)="cityChange(placeNowC.value,'NOIOHIENTAI')">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option *ngFor="let item of listCity" [value]="item['city']['code']">{{item['city']['name']}}</option>
          </select>
          <div class="error" *ngIf="placeNowC.value.trim()  =='' && formTouch">
            Chưa chọn tỉnh thành phố
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-2">
        <div class="item-control">
          <label>Quận/Huyện: </label>
          <select formControlName="district" class="form-control"
                  required type="select" #placeNowD (change)="districtChange(placeNowD.value,'NOIOHIENTAI')">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option *ngFor="let item of placeNow.city.districts" [value]="item['code']">{{item['name']}}</option>
          </select>
          <div class="error" *ngIf="placeNowD.value.trim()  =='' && formTouch">
            Chưa chọn quận huyện
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-2">
        <div class="item-control">
          <label> <span>Phường/xã   </span> </label>
          <select formControlName="guild" #placeNowG class="form-control"
                  required type="select">
            <!--<option value="">&#45;&#45;&#45;&#45;Chọn-&#45;&#45;</option>-->
            <option *ngFor="let item of guilsPlaceNow" [value]="item['code']">{{item['name']}}</option>
          </select>
          <div class="error" *ngIf="placeNowG.value.trim()  =='' && formTouch">
            Chưa chọn phường xã
          </div>

        </div>
      </div>
      <div class="col-xs-12 col-sm-3">
        <div class="item-control">
          <label>Số nhà / Đội </label>
          <input type="text" formControlName="numberHome" #numberHome >
          <!--<div class="error" *ngIf="numberHome.value.trim()  =='' && formTouch">-->
          <!--Chưa nhập số nhà / đội-->
          <!--</div>-->
        </div>
      </div>

      <div class="col-xs-12 col-sm-3">
        <div class="item-control">
          <label>Đường/Thôn </label>
          <input type="text" formControlName="street"  #street>
          <!--<div class="error" *ngIf="street.value.trim()  =='' && formTouch">-->
          <!--Chưa nhập đường thôn-->
          <!--</div>-->
        </div>
      </div>


    </div>
  </form>
</div>


<!--print-->
<div id="cv-print" style="display: none">
  <div class="container" style="margin-bottom:15px">
    <div class="row">
      <div class="col-xs-12">
        <div id="cv1">
          <div class="left">
            <!--<img src="http://via.placeholder.com/250x250" alt="">-->
            <img [src]="infoBasic.avatarUrl">
          </div>
          <div class="right">
            <ul>
              <li><span><b>1, Mã nhân sự: </b></span>{{user['username']}}</li>
              <li><span><b>2, Họ và tên:</b> </span> {{user['fullname']}}</li>
              <li><span><b>3, Tên khác: </b></span>{{nameOther.value}}</li>
              <li><span><b>4, Ngày sinh:</b> </span> {{user['birthDay'] | date:'dd-MM-yyyy'}}</li>
              <li><span><b>4, Giới tính:</b> </span> {{user['sex'] == 0?'Nam':'Nữ'}}</li>
              <li><span><b>6, Email: </b></span> {{user['email'] }}</li>
              <li><span><b>7, Số điện thoại: </b></span> {{phone.value}}</li>
            </ul>
          </div>
          <div class="clearfix"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <h5><b>8, Nơi sinh</b></h5>
        <ul class="address place-birth">
          <li><span><b>Tỉnh/Thành phố: </b></span> <span class="capitalize">{{getCityName(cityBirthDay.value)}}</span>
          </li>
          <li><span><b>Huyện:</b></span> <span class="capitalize">{{getDistrictName(cityBirthDay.value, districtBirthDay.value)}}</span>
          </li>
          <li><span><b>Xã phường:</b> </span> <span class="capitalize">{{getGuildName(cityBirthDay.value,districtBirthDay.value,guidBithDay.value)}}</span>
          </li>
        </ul>
      </div>

      <div class="col-xs-12">
        <h5><b>9, Quê quán</b></h5>
        <ul class="address place-birth">
          <li><span><b>Tỉnh/Thành phố: </b></span> <span class="capitalize">{{getCityName(homeTownCity.value)}}</span>
          </li>
          <li><span><b>Huyện:</b></span> <span class="capitalize">{{getDistrictName(homeTownCity.value, homeTownDistrict.value)}}</span>
          </li>
          <li><span><b>Xã phường:</b> </span> <span class="capitalize">{{getGuildName(homeTownCity.value,homeTownDistrict.value,homeTownGuid.value)}}</span>
          </li>
        </ul>
      </div>

      <div class="col-xs-12">

        <ul class="address place-birth" style="padding-left:0">
          <li style="width:390px"><span><b>10, Dân tộc: </b></span> <span>{{infoBasic.nation}}</span></li>
          <li><span><b>11, Tôn giáo</b></span> <span>{{hashNation.value?'Có':'Không'}}</span></li>
        </ul>
      </div>

      <div class="col-xs-12">
        <h5><b>12, Số chứng minh thư </b></h5>
        <ul class="address place-birth">
          <li><span><b> Số CMT: </b></span> <span class="capitalize">{{identityNumber.value}}</span>
          </li>
          <li><span><b>Ngày cấp: </b></span> <span class="capitalize">{{dateRange.value | date:'dd-MM-yyyy'}}</span>
          </li>
          <li><span><b>Nơi cấp:</b> </span> <span class="capitalize">{{placeRange.value}}</span>
          </li>
        </ul>
      </div>

      <div class="col-xs-12">
        <p><b style="margin-left:0" class="mgb-20"> 13, Nơi đăng kí hộ khẩu thường chú:</b> Đông lai tân lac hoa binh
        </p>
      </div>

      <div class="col-xs-12">

        <ul class="address place-birth" style="padding-left:0">
          <li style="width:390px"><span><b>14, Đối tượng chính sách: </b></span> <span>{{policyObject.value}}</span>
          </li>
          <li><span><b>15, Nhóm máu:</b></span> <span>{{bloodGroup.value}}</span></li>
        </ul>
      </div>


      <div class="col-xs-12">
        <h5><b>16, Nơi ở hiện nay</b></h5>
        <ul class="address place-birth">
          <li><span><b>Tỉnh/Thành phố: </b></span> <span class="capitalize">{{getCityName(placeNowC.value)}}</span>
          </li>
          <li><span><b>Huyện:</b></span> <span class="capitalize">{{getDistrictName(placeNowC.value, placeNowD.value)}}</span>
          </li>
          <li><span><b>Xã phường:</b> </span> <span class="capitalize">{{getGuildName(placeNowC.value,placeNowD.value,placeNowG.value)}}</span>
          </li>
          <li><span><b>Số nhà / Đội:</b> </span> <span>{{numberHome.value}} </span></li>
          <li><span><b>Đường/Thôn:</b> </span> <span>{{street.value}}</span></li>
        </ul>
      </div>

    </div>
  </div>
</div>


